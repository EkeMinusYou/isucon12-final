
# 25.8s user time, 180ms system time, 69.61M rss, 390.13G vsz
# Current date: Tue Nov 21 00:28:13 2023
# Hostname: YusukenoMac-mini.local
# Files: slowquery/log/mysql-slow.log
# Overall: 661.66k total, 178 unique, 6.55k QPS, 5.10x concurrency _______
# Time range: 2023-11-20T15:25:40 to 2023-11-20T15:27:21
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           515s     1us     21s   778us     2ms    26ms    63us
# Lock time            18s       0   676ms    26us     1us     2ms       0
# Rows sent        333.12k       0    1012    0.52    0.99    3.31       0
# Rows examine       7.17M       0  20.70k   11.36   12.54   88.83       0
# Query size       108.36M       6 1008.95k  171.73  192.76  10.12k   31.70

# Profile
# Rank Query ID                            Response time Calls  R/Call  V/
# ==== =================================== ============= ====== ======= ==
#    1 0x611363ACBD1690538F137757E45B738C  86.8104 16.9%   1364  0.0636  0.18 SELECT user_presents
#    2 0x3FFFD39D9DB10329B174042FE1810238  56.8859 11.0%  30617  0.0019  0.01 UPDATE user_presents
#    3 0xFFFCA4D67EA0A788813031B8BBC3B329  40.1749  7.8%   4046  0.0099  0.01 COMMIT
#    4 0xDA556F9115773A1A99AA0165670CE848  32.4924  6.3% 213843  0.0002  0.00 ADMIN PREPARE
#    5 0x03FFA53B9AEA23779E51FE7DD3DC165E  30.1274  5.8%  22582  0.0013  0.02 INSERT user_presents
#    6 0xC20D9D224412E78025DDB691D46B02B6  29.6152  5.7%  15746  0.0019  0.02 SELECT user_items
#    7 0x1049606E13674A053E0CC69500F839DC  26.7658  5.2%   1293  0.0207  0.02 UPDATE user_one_time_tokens
#    8 0xF0F3320DE1260EAD27BC0426FCB34A4D  24.7009  4.8%   1364  0.0181  0.10 SELECT user_presents
#    9 0x79A889ED30BFA8BF517F86F6D70065B6  20.6160  4.0%      1 20.6160  0.00 LOAD DATA user_presents
#   10 0xAFB4A7475DFDCF1D0D23CC5EC1952C3A  15.0591  2.9%   1300  0.0116  0.01 INSERT user_one_time_tokens
#   11 0x2096778F723F6666B5D7DDC9D01010C7  10.3741  2.0%     46  0.2255  0.01 INSERT user_cards
#   12 0xE3341326DCBBC41D81C9550FEAE6F248  10.1166  2.0%   1167  0.0087  0.03 SELECT user_present_all_received_history
#   13 0x75C006C72A2DD00658309A1A758E1BB6  10.0489  2.0%    890  0.0113  0.01 UPDATE users
#   14 0x584D7D428BA6602840353479CEB359A1   9.9140  1.9%   4684  0.0021  0.01 SELECT user_devices
#   15 0x41CEDDDAFB6289B60E5F30D0462408DB   8.8891  1.7%  11922  0.0007  0.01 INSERT user_present_all_received_history
#   16 0x8CA5C26DA1F53D285B58FE47352DA00A   8.4311  1.6%   7580  0.0011  0.00 SELECT user_sessions
#   17 0x2372FB123B18A108CFBB5352F61B370B   8.1241  1.6%  18492  0.0004  0.01 SELECT users
#   18 0xD858CC1645CE084FE3844E34483B662E   7.8220  1.5%  13836  0.0006  0.01 UPDATE users
#   19 0xED0711EB833D06BBD84F496A9784760B   7.2655  1.4%  14783  0.0005  0.00 UPDATE user_items
#   20 0x5FF17CFE4371C68C8E9D993D1C94471F   7.0071  1.4%   1170  0.0060  0.27 INSERT user_sessions
# MISC 0xMISC                              63.8205 12.4% 294931  0.0002   0.0 <158 ITEMS>

# Query 1: 22.36 QPS, 1.42x concurrency, ID 0x611363ACBD1690538F137757E45B738C at byte 227690885
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.18
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1364
# Exec time     16     87s   138us   867ms    64ms   279ms   108ms    10ms
# Lock time      0     2ms       0   140us     1us     1us     3us     1us
# Rows sent      9  30.00k       0      67   22.52   36.69   10.29   22.53
# Rows examine   4 361.17k      47     695  271.14  652.75  231.60  124.25
# Query size     0 175.93k     126     138  132.07  136.99       6  124.25
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ##############################################################
#   1ms  ##########################################################
#  10ms  ################################################################
# 100ms  #########################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_presents'\G
#    SHOW CREATE TABLE `isucon`.`user_presents`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user_presents 
	WHERE user_id = 7811325517 AND deleted_at IS NULL
	ORDER BY created_at DESC, id
	LIMIT 100 OFFSET 0\G

# Query 2: 501.92 QPS, 0.93x concurrency, ID 0x3FFFD39D9DB10329B174042FE1810238 at byte 164546452
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4   30617
# Exec time     11     57s    67us   141ms     2ms     9ms     5ms   194us
# Lock time      0    50ms       0     2ms     1us     1us    21us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  29.90k       1       1       1       1       0       1
# Query size     2   2.73M      82      98   93.52   97.36    4.76   88.31
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #########
# 100us  ################################################################
#   1ms  ##################
#  10ms  ####
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_presents'\G
#    SHOW CREATE TABLE `isucon`.`user_presents`\G
UPDATE user_presents SET deleted_at=1661700411, updated_at=1661700411 WHERE id=5375937402217921108\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  deleted_at=1661700411, updated_at=1661700411 from user_presents where  id=5375937402217921108\G

# Query 3: 66.33 QPS, 0.66x concurrency, ID 0xFFFCA4D67EA0A788813031B8BBC3B329 at byte 183640423
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    4046
# Exec time      7     40s     2ms   154ms    10ms    19ms     9ms     8ms
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0  23.71k       6       6       6       6       0       6
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ####################################
# 100ms  #
#    1s
#  10s+
COMMIT\G

# Query 4: 3.51k QPS, 0.53x concurrency, ID 0xDA556F9115773A1A99AA0165670CE848 at byte 185853644
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         32  213843
# Exec time      6     32s    18us    19ms   151us   541us   301us    66us
# Lock time      0    27us       0     3us       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     5   6.12M      30      30      30      30       0      30
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ########################
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
administrator command: Prepare\G

# Query 5: 370.20 QPS, 0.49x concurrency, ID 0x03FFA53B9AEA23779E51FE7DD3DC165E at byte 195013746
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3   22582
# Exec time      5     30s    48us   116ms     1ms     7ms     4ms   138us
# Lock time      0    36ms       0     3ms     1us     1us    30us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     5   5.45M     242     272  252.96  258.32    6.64  246.02
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #############################
# 100us  ################################################################
#   1ms  ##############
#  10ms  ###
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_presents'\G
#    SHOW CREATE TABLE `isucon`.`user_presents`\G
INSERT INTO user_presents(id, user_id, sent_at, item_type, item_id, amount, present_message, created_at, updated_at) VALUES (5375937402217930154, 579524285, 1661700423, 4, 21, 1, '3周年ガチャの付与アイテムです', 1661700423, 1661700423)\G

# Query 6: 258.13 QPS, 0.49x concurrency, ID 0xC20D9D224412E78025DDB691D46B02B6 at byte 164944727
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   15746
# Exec time      5     30s    72us   179ms     2ms     9ms     6ms   287us
# Lock time      0    26ms       0     2ms     1us     1us    23us     1us
# Rows sent      4  14.21k       0       1    0.92    0.99    0.26    0.99
# Rows examine   2 185.26k       0      14   12.05   13.83    3.59   13.83
# Query size     0 998.71k      61      73   64.95   72.65    3.20   62.76
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ###############
#  10ms  ###
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_items'\G
#    SHOW CREATE TABLE `isucon`.`user_items`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user_items WHERE user_id=6684250464 AND item_id=21\G

# Query 7: 21.55 QPS, 0.45x concurrency, ID 0x1049606E13674A053E0CC69500F839DC at byte 183857180
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.02
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:20
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1293
# Exec time      5     27s     3ms   177ms    21ms    61ms    19ms    14ms
# Lock time     55     10s       0   144ms     8ms    42ms    15ms     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine  11 821.08k       1   1.26k  650.26   1.20k  365.51  621.67
# Query size     0 131.32k     104     104     104     104       0     104
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #############################
#  10ms  ################################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_one_time_tokens'\G
#    SHOW CREATE TABLE `isucon`.`user_one_time_tokens`\G
UPDATE user_one_time_tokens SET deleted_at=1661700419 WHERE token='79d3e12e-e1e9-4f81-a994-b90c36b90cbf'\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  deleted_at=1661700419 from user_one_time_tokens where  token='79d3e12e-e1e9-4f81-a994-b90c36b90cbf'\G

# Query 8: 22.36 QPS, 0.40x concurrency, ID 0xF0F3320DE1260EAD27BC0426FCB34A4D at byte 206611833
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.10
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1364
# Exec time      4     25s   113us   453ms    18ms   100ms    43ms     3ms
# Lock time      0     3ms       0   291us     1us     1us    12us     1us
# Rows sent      0   1.33k       1       1       1       1       0       1
# Rows examine   4 331.17k      27     664  248.62  621.67  227.30  112.70
# Query size     0 115.99k      81      93   87.07   92.72       6   80.10
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ##########################################################
#   1ms  ################################################################
#  10ms  #####################################
# 100ms  #########
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_presents'\G
#    SHOW CREATE TABLE `isucon`.`user_presents`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM user_presents WHERE user_id = 6485112315 AND deleted_at IS NULL\G

# Query 9: 0 QPS, 0x concurrency, ID 0x79A889ED30BFA8BF517F86F6D70065B6 at byte 76650770
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2023-11-20T15:26:20
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      4     21s     21s     21s     21s     21s       0     21s
# Lock time      0     3us     3us     3us     3us     3us       0     3us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0     146     146     146     146     146       0     146
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms
#    1s
#  10s+  ################################################################
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_presents'\G
#    SHOW CREATE TABLE `isucon`.`user_presents`\G
LOAD DATA INFILE '/var/lib/mysql-files/5_user_presents_not_receive_data.tsv' REPLACE INTO TABLE user_presents FIELDS ESCAPED BY '|' IGNORE 1 LINES\G

# Query 10: 21.31 QPS, 0.25x concurrency, ID 0xAFB4A7475DFDCF1D0D23CC5EC1952C3A at byte 165095639
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1300
# Exec time      2     15s     3ms   160ms    12ms    26ms    12ms     9ms
# Lock time      9      2s       0   102ms     1ms     8ms     5ms     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0 283.19k     217     229  223.06  223.14    5.06  212.52
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_one_time_tokens'\G
#    SHOW CREATE TABLE `isucon`.`user_one_time_tokens`\G
INSERT INTO user_one_time_tokens(id, user_id, token, token_type, created_at, updated_at, expired_at) VALUES (5375937402217922311, 1169344596, '01d698a1-5f69-43b8-9e25-af85302373a1', 1, 1661700412, 1661700412, 1661701012)\G

# Query 11: 4.60 QPS, 1.04x concurrency, ID 0x2096778F723F6666B5D7DDC9D01010C7 at byte 241562
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:25:42 to 2023-11-20T15:25:52
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      46
# Exec time      2     10s   170ms   405ms   226ms   308ms    48ms   208ms
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size    41  45.18M 970.86k 1006.59k 1005.76k 961.27k       0 961.27k
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_cards'\G
#    SHOW CREATE TABLE `isucon`.`user_cards`\G
INSERT INTO `user_cards` VALUES (1042148,9904038980,6,720,36,5336,1639932222,1639932222,NULL) /*... omitted ...*/\G

# Query 12: 19.13 QPS, 0.17x concurrency, ID 0xE3341326DCBBC41D81C9550FEAE6F248 at byte 134582275
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.03
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1167
# Exec time      1     10s   216us   115ms     9ms    48ms    17ms     2ms
# Lock time      0     2ms       0   416us     1us     1us    12us     1us
# Rows sent      6  20.24k       0      29   17.76   26.08   10.40   26.08
# Rows examine   0  20.24k       0      29   17.76   26.08   10.40   26.08
# Query size     0 227.57k     193     208  199.68  202.40    3.97  192.76
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ##################################################
#   1ms  ################################################################
#  10ms  ###########################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_present_all_received_history'\G
#    SHOW CREATE TABLE `isucon`.`user_present_all_received_history`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user_present_all_received_history WHERE user_id=9468138526 AND present_all_id IN (1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29)\G

# Query 13: 14.59 QPS, 0.16x concurrency, ID 0x75C006C72A2DD00658309A1A758E1BB6 at byte 153450148
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     890
# Exec time      1     10s     3ms   114ms    11ms    26ms     9ms     9ms
# Lock time      0     1ms       0   161us     1us     1us     6us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0     890       1       1       1       1       0       1
# Query size     0  74.12k      83      87   85.28   84.10    1.01   84.10
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ##################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'users'\G
#    SHOW CREATE TABLE `isucon`.`users`\G
UPDATE users SET isu_coin=826463609, last_getreward_at=1661700408 WHERE id=2692574607\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  isu_coin=826463609, last_getreward_at=1661700408 from users where  id=2692574607\G

# Query 14: 76.79 QPS, 0.16x concurrency, ID 0x584D7D428BA6602840353479CEB359A1 at byte 164813989
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    4684
# Exec time      1     10s    87us   109ms     2ms    10ms     5ms   247us
# Lock time      0    12ms       0     3ms     2us     1us    47us     1us
# Rows sent      1   4.57k       1       1       1       1       0       1
# Rows examine   0   4.58k       1       2    1.00    0.99    0.03    0.99
# Query size     0 364.17k      75      86   79.61   84.10    3.57   76.28
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ####################
#  10ms  #####
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_devices'\G
#    SHOW CREATE TABLE `isucon`.`user_devices`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user_devices WHERE user_id=5375937402217920708 AND platform_id='1994539'\G

# Query 15: 195.44 QPS, 0.15x concurrency, ID 0x41CEDDDAFB6289B60E5F30D0462408DB at byte 134484202
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1   11922
# Exec time      1      9s    43us    62ms   745us     3ms     3ms   108us
# Lock time      0    14ms       0   816us     1us     1us    11us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     2   2.24M     189     201  197.03  192.76    4.53  192.76
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  #########################################################
# 100us  ################################################################
#   1ms  ##########
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_present_all_received_history'\G
#    SHOW CREATE TABLE `isucon`.`user_present_all_received_history`\G
INSERT INTO user_present_all_received_history(id, user_id, present_all_id, received_at, created_at, updated_at) VALUES (5375937402217914460, 5375937402217914274, 3, 1661700402, 1661700402, 1661700402)\G

# Query 16: 124.26 QPS, 0.14x concurrency, ID 0x8CA5C26DA1F53D285B58FE47352DA00A at byte 203822129
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    7580
# Exec time      1      8s    68us    42ms     1ms     3ms     2ms   626us
# Lock time      0    16ms       0   849us     2us     1us    15us     1us
# Rows sent      2   7.40k       0       1    1.00    0.99    0.01    0.99
# Rows examine  57   4.10M       4   1.13k  566.70   1.04k  328.36  563.87
# Query size     0 784.62k      81     106  106.00  102.22    0.25  102.22
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ##
# 100us  ################################################################
#   1ms  ########################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_sessions'\G
#    SHOW CREATE TABLE `isucon`.`user_sessions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user_sessions WHERE session_id='796c0658-a23f-4839-913e-6783d096c661' AND deleted_at IS NULL\G

# Query 17: 303.15 QPS, 0.13x concurrency, ID 0x2372FB123B18A108CFBB5352F61B370B at byte 164884596
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   18492
# Exec time      1      8s    33us    76ms   439us     2ms     2ms   103us
# Lock time      0    37ms       0     2ms     1us     1us    30us     1us
# Rows sent      5  18.06k       0       1    1.00    0.99    0.01    0.99
# Rows examine   0  18.06k       0       1    1.00    0.99    0.01    0.99
# Query size     0 779.08k      33      48   43.14   46.83    4.26   38.53
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###############################################################
#   1ms  #########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'users'\G
#    SHOW CREATE TABLE `isucon`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM users WHERE id=4351426860\G

# Query 18: 226.82 QPS, 0.13x concurrency, ID 0xD858CC1645CE084FE3844E34483B662E at byte 161380254
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   13836
# Exec time      1      8s    62us    51ms   565us     3ms     2ms   131us
# Lock time      0    22ms       0     2ms     1us     1us    25us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  13.51k       1       1       1       1       0       1
# Query size     0 784.49k      48      60   58.06   59.77    2.76   56.92
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ######################
# 100us  ################################################################
#   1ms  ########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'users'\G
#    SHOW CREATE TABLE `isucon`.`users`\G
UPDATE users SET isu_coin=6161353550 WHERE id=9865277994\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  isu_coin=6161353550 from users where  id=9865277994\G

# Query 19: 242.34 QPS, 0.12x concurrency, ID 0xED0711EB833D06BBD84F496A9784760B at byte 154111488
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   14783
# Exec time      1      7s    60us    31ms   491us     2ms     1ms   138us
# Lock time      0    21ms       0     1ms     1us     1us    14us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0  14.44k       1       1       1       1       0       1
# Query size     0   1.06M      70      82   75.46   80.10    1.90   72.65
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################
# 100us  ################################################################
#   1ms  ######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_items'\G
#    SHOW CREATE TABLE `isucon`.`user_items`\G
UPDATE user_items SET amount=37, updated_at=1661700409 WHERE id=95929480971\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  amount=37, updated_at=1661700409 from user_items where  id=95929480971\G

# Query 20: 19.18 QPS, 0.11x concurrency, ID 0x5FF17CFE4371C68C8E9D993D1C94471F at byte 236480193
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.27
# Time range: 2023-11-20T15:26:20 to 2023-11-20T15:27:21
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    1170
# Exec time      1      7s    58us   677ms     6ms    11ms    41ms   194us
# Lock time     28      5s       0   676ms     4ms     1us    40ms     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0 234.06k     200     212  204.85  202.40    2.56  202.40
# String:
# Databases    isucon
# Hosts        localhost
# Users        isucon
# Query_time distribution
#   1us
#  10us  ##############
# 100us  ################################################################
#   1ms  #########################
#  10ms  #####
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon` LIKE 'user_sessions'\G
#    SHOW CREATE TABLE `isucon`.`user_sessions`\G
INSERT INTO user_sessions(id, user_id, session_id, created_at, updated_at, expired_at) VALUES (5375937402217939687, 3385876518, 'a022cb66-4ad4-4274-9069-f1c064cf3a69', 1661700436, 1661700436, 1661786836)\G
